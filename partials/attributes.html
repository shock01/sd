<div class="row">
   <div class="col-md-12">
      <div class="page-header">
         <h1>SD Attributes</h1>
      </div>
   </div>
</div>
<div class="row">
   <div class="col-md-12">
      <p class="lead">Basic demo of what can be done with angular and data binding svg.</p>
      <div class="hero-unit">
         <svg width="200" height="200" xmlns="http://www.w3.org/2000/svg" xmlns:sd="uri:whatevermakesyouhappy" xmlns:xlink="http://www.w3.org/1999/xlink">
            <sd:xinclude href="includes/filters.svg"/>
            <image y="100" ng:attr-filter="{{filter !== 'none' ? 'url(#' + filter + ')' : ''}}" sd:xlink-href="image" ng:attr:width="{{width}}" height="100%" preserveAspectRatio="xMinYMin meet"/>
         </svg>
         <h1>Image filters</h1>
         <form role="form" class="form-inline">
            <div class="form-group">
               <label for="imagefilter">Set image filter</label>
               <select class="form-control" name="imagefilter" ng-model="filter" ng-options="filter for filter in filters"></select>
            </div>
         </form>
      </div>
      <hr/>
      <h1>Basic shape manipulation</h1>
      <div class="row">
         <aside class="col-md-4">
            <form role="form" class="form-inline">
               <div class="form-group">
                  <label for="viewBoxMinX">Set minX of viewBox</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="viewBoxMinX" name="viewBoxMinX" />
               </div>
               <div class="form-group">
                  <label for="viewBoxMinX">Set minY of viewBox</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="viewBoxMinY" name="viewBoxMinY" />
               </div>
               <div class="form-group">
                  <label for="viewBoxWidth">Set width of viewBox</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="viewBoxWidth" name="viewBoxWidth" />
               </div>
               <div class="form-group">
                  <label for="viewBoxWidth">Set height of viewBox</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="viewBoxHeight" name="viewBoxHeight" />
               </div>
               <div class="form-group">
                  <label for="width">Set width of rect</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="width" name="width" />
               </div>
               <div class="form-group">
                  <label for="height">Set height of rect</label>
                  <input class="form-control" type="range" min="10" max="400" ng-model="height" name="height" />
               </div>
               <div class="form-group">
                  <label for="fill">Set color of rect</label>
                  <input class="form-control" type="color" ng-model="fill" name="fill" />
               </div>
               <div class="form-group">
                  <label for="stroke">Set color of stroke</label>
                  <input class="form-control" type="color" ng-model="stroke" name="stroke" />
               </div>
            </form>
         </aside>
         <div class="col-md-6">
            <svg xmlns="http://www.w3.org/2000/svg" 
               xmlns:sd="uri:whatevermakesyouhappy" 
               xmlns:xlink="http://www.w3.org/1999/xlink"
               sd:view-box="[viewBoxMinX, viewBoxMinY, viewBoxWidth, viewBoxHeight].join(' ')">
               <g>
                  <!--  interpolated attributes {{}} -->
                  <rect sd:fill="{{fill}}" sd:stroke="{{stroke}}" sd:width="{{width}}" sd:height="{{height}}"/>
                  <g>
                     <rect ng:repeat="item in [1,2,3]"  
                        ng:click="clicked(event, item)" 
                        ng:attr:stroke="{{stroke}}" 
                        ng:attr:fill="{{fill}}"
                        ng:attr-y="{{($index * height) + 10}}" 
                        ng:attr:width="{{width}}" ng:attr:height="{{height}}"/>
                  </g>
               </g>
            </svg>
         </div>
      </div>
      <hr>
      <h2>Animated thingie</h2>
      <form role="form" class="form-inline">
         <div class="form-group">
            <label for="imagefilter">Animation duration</label>
            <input type="range" min="1" max="4" class="form-control" name="animationDuration" ng-model="animationDuration"/>
         </div>
         <div class="form-group">
            <label for="imagefilter">Animation Attribute</label>
            <select class="form-control" name="animationAttr" ng-model="animationAttr">
               <option value="x">x</option>
               <option value="y">y</option>
            </select>
         </div>
      </form>
      <svg height="200">
         <rect x="10" y="10" width="100" height="100" 
            ng:attr-fill="{{fill}}">
            <animate attributeType="XML"
               sd:attribute-name="animationAttr"
               from="-100" to="120"
               ng:attr-dur="{{animationDuration}}s"
               onload="console.log('loaded')"
               repeatCount="indefinite"/>
         </rect>
      </svg>
   </div>
</div>
